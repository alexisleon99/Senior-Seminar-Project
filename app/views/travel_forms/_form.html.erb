<%= form_with(model: travel_form, local: true) do |f| %>
  <% if travel_form.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(travel_form.errors.count, "error") %> prohibited this travel_form from being saved:</h2>

      <ul>
      <% travel_form.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>


  <div class="container">
    <div class="col-lg-12 text-center">
      <h1 class="mt-5"> New Travel Form</h1>
    </div>
  </div>

 <table class='table'>
   <thead>
    <tr>
      <th></th>
      <th>Expense</th>
      <th>Department</th>
      <th>Amount</th>
    </tr>
   </thread>
   <tbody class= "expenses">
    <%= f.fields_for :expenses do |builder| %>
      <%= render 'expense_fields', f: builder %>
      <% end %>
    </tbody>
  </table>
    
  <div class="departments">
    <%= f.label "Departments", class: 'control-label' %>
    <div class="controls">
      <%= f.select(:departments, options_for_select([['R&D', 'R&D'], ['IT', 'IT']])) %>
    </div>
  </div>




  <div class="form-actions">
    <%= f.button :submit %>
    <%= link_to_add_association 'Add Expense', f, :expenses, class: 'btn btn-primary' , data: {
          association_insertion_node: '.expenses', association_insertion_method: :append } %>
</div>
</div>
<% end %>
